<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WashApp</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: baseline;
            height: 100vh;
            background-color: #F5F5F5; /* Colore di sfondo */
            margin: 0;
            overflow: hidden;
        }
        .container {
            background-color: #FFFFFF;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 500px;
            text-align: center;
        }
        input[type="text"] {
            padding: 10px;
            margin: 10px 0;
            width: 100%;
            border-radius: 4px;
            border: 1px solid #DDD;
        }
        button {
            width: 100%;
            max-width: 200px;
            margin: 10px auto;
            padding: 10px;
            font-size: 16px;
            background-color: #03A9F4; /* Colore ciano per i bottoni */
            color: #FFFFFF;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #0288D1; /* Colore hover per i bottoni */
        }
        h1, h3 {
            color: #2155f3; /* Colore del testo */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>WashApp</h1>

        <h3>Inserisci il nome dell'operatore</h3>
        <input type="text" id="operatore" placeholder="Nome operatore" oninput="salvaOperatore()">

        <h3>Seleziona l'azienda</h3>
        <div id="azienda-selection">
            <input type="radio" name="azienda" value="Azienda1" id="azienda1">
            <label for="azienda1">Azienda 1</label>

            <input type="radio" name="azienda" value="Azienda2" id="azienda2">
            <label for="azienda2">Azienda 2</label>
        </div>

        <input type="text" id="targa" placeholder="Inserisci la targa">
        <button onclick="aggiungiLavaggio()">Aggiungi</button>
    </div>

    <script>
        // Salva il nome dell'operatore nei cookie
        function salvaOperatore() {
            const operatore = document.getElementById('operatore').value;
            document.cookie = `operatore=${operatore}; path=/; max-age=${60 * 60 * 24 * 30}`; // Valido per 30 giorni
        }

        // Recupera il nome dell'operatore dai cookie all'avvio
        function recuperaOperatore() {
            const cookies = document.cookie.split('; ').reduce((acc, cookie) => {
                const [key, value] = cookie.split('=');
                acc[key] = value;
                return acc;
            }, {});

            if (cookies.operatore) {
                document.getElementById('operatore').value = cookies.operatore;
            }
        }

        // Funzione per aggiungere il lavaggio al database
        function aggiungiLavaggio() {
            const operatore = document.getElementById('operatore').value;
            const azienda = document.querySelector('input[name="azienda"]:checked')?.value;
            const targa = document.getElementById('targa').value;

            if (!operatore || !azienda || !targa) {
                alert('Tutti i campi devono essere compilati.');
                return;
            }

            // Verifica che la targa sia valida
            const targaRegex = /^[A-Za-z]{2}\d{3}[A-Za-z]{2}$/;
            if (!targaRegex.test(targa)) {
                alert('La targa deve essere nel formato corretto (es. AA000AA).');
                return;
            }

            // Logica per inviare i dati al database (esempio Firebase)
            console.log({ operatore, azienda, targa });
            alert('Dati inviati con successo!');
        }

        // Recupera il nome dell'operatore all'avvio della pagina
        recuperaOperatore();
    </script>
</body>
</html>
